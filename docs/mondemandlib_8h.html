<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mondemand: mondemandlib.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>mondemandlib.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
MonDemand client API file. This is the entry point for developers to gather stats and messages and log them to the configured transport. 
<p>

<p>

<p>
<a href="mondemandlib_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">mondemand_client *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#6ac67349b3222f365c5b3d217e0e1655">mondemand_client_create</a> (const char *program_identifier)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor used to create a new logging client.  <a href="#6ac67349b3222f365c5b3d217e0e1655"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#51c49e1478f014f10b3b21e69c798aac">mondemand_client_destroy</a> (struct mondemand_client *client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor, used to clean up memory used by the client. This automatically flushes any unsent events.  <a href="#51c49e1478f014f10b3b21e69c798aac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#270b5db1639389e74d1f07408fc5d986">mondemand_set_immediate_send_level</a> (struct mondemand_client *client, const int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to set the immediate send level, which defines the minimum level where events are sent as soon as they are received (as opposed to being bundled). Out of range values are ignored.  <a href="#270b5db1639389e74d1f07408fc5d986"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#42b1c5b46cb29389ef05e2caead87274">mondemand_set_no_send_level</a> (struct mondemand_client *client, const int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to set the no send level, which defines the minimum log level where events are sent at all. Anything lower than this defined level will be suppressed. Out of range values are ignored.  <a href="#42b1c5b46cb29389ef05e2caead87274"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="463aef925203336a703c7e3d185586eb"></a><!-- doxytag: member="mondemandlib.h::mondemand_get_context" ref="463aef925203336a703c7e3d185586eb" args="(struct mondemand_client *client, const char *key)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#463aef925203336a703c7e3d185586eb">mondemand_get_context</a> (struct mondemand_client *client, const char *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the value for a given key. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e2bb05e5ce6a8e8fcb73acf9dca04dbd"></a><!-- doxytag: member="mondemandlib.h::mondemand_get_context_keys" ref="e2bb05e5ce6a8e8fcb73acf9dca04dbd" args="(struct mondemand_client *client)" -->
const char **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#e2bb05e5ce6a8e8fcb73acf9dca04dbd">mondemand_get_context_keys</a> (struct mondemand_client *client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns an array of keys. The array is NULL terminated, and must be freed by the caller when finished with it. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#c514f3dc02019843677cf93d84848e21">mondemand_set_context</a> (struct mondemand_client *client, const char *key, const char *value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a contextual key/value pair to the client, which is sent out with event event. If a value is already set, it overwrites it. This method creates a copy of the key and value internally, so they can be freed once set.  <a href="#c514f3dc02019843677cf93d84848e21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65c22511c4f26d2761fbe4faa5e81084"></a><!-- doxytag: member="mondemandlib.h::mondemand_remove_context" ref="65c22511c4f26d2761fbe4faa5e81084" args="(struct mondemand_client *client, const char *key)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#65c22511c4f26d2761fbe4faa5e81084">mondemand_remove_context</a> (struct mondemand_client *client, const char *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a contextual key value pair from the client, and frees that memory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3eee17e86965b96146e3c5b6561a7377"></a><!-- doxytag: member="mondemandlib.h::mondemand_remove_all_contexts" ref="3eee17e86965b96146e3c5b6561a7377" args="(struct mondemand_client *client)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#3eee17e86965b96146e3c5b6561a7377">mondemand_remove_all_contexts</a> (struct mondemand_client *client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to remove all contextual key/value pairs. Frees all related memory.  client a mondemand_client object pointer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e82d9d170af0660607c6fef3bb401f0f"></a><!-- doxytag: member="mondemandlib.h::mondemand_log_real" ref="e82d9d170af0660607c6fef3bb401f0f" args="(struct mondemand_client *client, const char *filename, const int line, const int level, const struct mondemand_trace_id trace_id, const char *format,...)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#e82d9d170af0660607c6fef3bb401f0f">mondemand_log_real</a> (struct mondemand_client *client, const char *filename, const int line, const int level, const struct mondemand_trace_id trace_id, const char *format,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">full-featured logging function, usually called by macros. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fc8ad42e73266869e134e4ac0aecf5e4"></a><!-- doxytag: member="mondemandlib.h::mondemand_log_real_va" ref="fc8ad42e73266869e134e4ac0aecf5e4" args="(struct mondemand_client *client, const char *filename, const int line, const int level, const struct mondemand_trace_id trace_id, const char *format, va_list args)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#fc8ad42e73266869e134e4ac0aecf5e4">mondemand_log_real_va</a> (struct mondemand_client *client, const char *filename, const int line, const int level, const struct mondemand_trace_id trace_id, const char *format, va_list args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">full-featured logging function, usually called by macros. This function takes a va_list so that calling functions can pass ellipsis style arguments <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6bafc2a62d41bf3c804843dd48eee981"></a><!-- doxytag: member="mondemandlib.h::mondemand_stats_inc" ref="6bafc2a62d41bf3c804843dd48eee981" args="(struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#6bafc2a62d41bf3c804843dd48eee981">mondemand_stats_inc</a> (struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">lower-level stats function that increments a named key with the given value <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e7ef65b9a7101e0f361435321182ffa4"></a><!-- doxytag: member="mondemandlib.h::mondemand_stats_dec" ref="e7ef65b9a7101e0f361435321182ffa4" args="(struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#e7ef65b9a7101e0f361435321182ffa4">mondemand_stats_dec</a> (struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">lower-level stats function that decrements a named key with the given value <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f7616a15159166e941957ace5ae4437b"></a><!-- doxytag: member="mondemandlib.h::mondemand_stats_set" ref="f7616a15159166e941957ace5ae4437b" args="(struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mondemandlib_8h.html#f7616a15159166e941957ace5ae4437b">mondemand_stats_set</a> (struct mondemand_client *client, const char *filename, const int line, const char *key, const int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">lower-level stats function that sets a named key with the given value <br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6ac67349b3222f365c5b3d217e0e1655"></a><!-- doxytag: member="mondemandlib.h::mondemand_client_create" ref="6ac67349b3222f365c5b3d217e0e1655" args="(const char *program_identifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mondemand_client* mondemand_client_create           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>program_identifier</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor used to create a new logging client. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>program_identifier</em>&nbsp;</td><td>a string identifying this program to the network </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a mondemand_client object pointer </dd></dl>

</div>
</div><p>
<a class="anchor" name="51c49e1478f014f10b3b21e69c798aac"></a><!-- doxytag: member="mondemandlib.h::mondemand_client_destroy" ref="51c49e1478f014f10b3b21e69c798aac" args="(struct mondemand_client *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mondemand_client_destroy           </td>
          <td>(</td>
          <td class="paramtype">struct mondemand_client *&nbsp;</td>
          <td class="paramname"> <em>client</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor, used to clean up memory used by the client. This automatically flushes any unsent events. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>mondemand_client object to be deleted. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="270b5db1639389e74d1f07408fc5d986"></a><!-- doxytag: member="mondemandlib.h::mondemand_set_immediate_send_level" ref="270b5db1639389e74d1f07408fc5d986" args="(struct mondemand_client *client, const int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mondemand_set_immediate_send_level           </td>
          <td>(</td>
          <td class="paramtype">struct mondemand_client *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method to set the immediate send level, which defines the minimum level where events are sent as soon as they are received (as opposed to being bundled). Out of range values are ignored. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>a mondemand_client object pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>a log level </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="42b1c5b46cb29389ef05e2caead87274"></a><!-- doxytag: member="mondemandlib.h::mondemand_set_no_send_level" ref="42b1c5b46cb29389ef05e2caead87274" args="(struct mondemand_client *client, const int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mondemand_set_no_send_level           </td>
          <td>(</td>
          <td class="paramtype">struct mondemand_client *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method to set the no send level, which defines the minimum log level where events are sent at all. Anything lower than this defined level will be suppressed. Out of range values are ignored. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>a mondemand_client object pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>a log level </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c514f3dc02019843677cf93d84848e21"></a><!-- doxytag: member="mondemandlib.h::mondemand_set_context" ref="c514f3dc02019843677cf93d84848e21" args="(struct mondemand_client *client, const char *key, const char *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mondemand_set_context           </td>
          <td>(</td>
          <td class="paramtype">struct mondemand_client *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a contextual key/value pair to the client, which is sent out with event event. If a value is already set, it overwrites it. This method creates a copy of the key and value internally, so they can be freed once set. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>zero on success, non-zero on failure </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue May 12 14:40:00 2009 for mondemand by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
